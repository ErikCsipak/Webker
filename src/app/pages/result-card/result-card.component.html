<div *ngIf="obs != null">
    <div  class ="card">
        <span>{{obs.effectiveInstant}}</span>
        <div class="resultForm">
                <div class="resultValueContainerContainer">
                    <p>Eredmény:</p>
                    <div *ngFor="let val of obs.component" class="resultValueContainer"><p>{{val.code}}:&nbsp;&nbsp;</p><p>{{val.valueString}}</p></div>
                    <button mat-raised-button color="primary" data-toggle="modal" [attr.data-target]="'#' + obs.firestoreId" name = "dataUpdateButton" class="max-width">Módosítás</button>
                </div>
                <div class="resultBasedOnContainerContainer">
                    <p>Normál érték:</p>
                    <div *ngFor="let basedOnVal of obs.basedOn"><p>{{basedOnVal}}</p></div>
                    <button (click)="onDeleteClicked(obs.firestoreId)" mat-raised-button class="max-width" name="dataDeleteButton">Törlés</button>
                </div>
        </div>
    </div>
  
    <div class="modal fade" id="{{obs.firestoreId}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title">{{obs.effectiveInstant}}</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            </div>
            
            <form [formGroup]="form" (ngSubmit)="updateData()">
                <div class="modal-body">
                    <div class="resultForm">
                        <div class="resultValueContainerContainer">
                            <mat-form-field class="max-width">
                                <mat-label>WBC</mat-label>
                                <input type="number" step="0.01" min="0" name="uWBC" matInput placeholder="WBC"  formControlName="uWBC">
                            </mat-form-field>
        
                            <mat-form-field class="max-width">
                                <mat-label>RBC</mat-label>
                                <input type="number" step="0.01" min="0" name="uRBC" matInput placeholder="RBC" formControlName="uRBC">
                            </mat-form-field>
                            
                            <mat-form-field class="max-width">
                                <mat-label>HGB</mat-label>
                                <input type="number" step="0.01" min="0" name="uHGB" matInput placeholder="HGB" formControlName="uHGB">
                            </mat-form-field>
                            
                            <mat-form-field class="max-width">
                                <mat-label>HCT</mat-label>
                                <input type="number" step="0.01" min="0" name="uHCT" matInput placeholder="HCT" formControlName="uHCT">
                            </mat-form-field>
                            
                            <mat-form-field class="max-width">
                                <mat-label>MCV</mat-label>
                                <input type="number" step="0.01" min="0" name="uMCV" matInput placeholder="MCV" formControlName="uMCV">
                            </mat-form-field>
                            
                            <mat-form-field class="max-width">
                                <mat-label>MCH</mat-label>
                                <input type="number" step="0.01" min="0" name="uMCH" matInput placeholder="MCH" formControlName="uMCH">
                            </mat-form-field>
                            
                            <mat-form-field class="max-width">
                                <mat-label>MCHC</mat-label>
                                <input type="number" step="0.01" min="0" name="uMCHC" matInput placeholder="MCHC" formControlName="uMCHC">
                            </mat-form-field>
                            
                            <mat-form-field class="max-width">
                                <mat-label>PLT</mat-label>
                                <input type="number" step="0.01" min="0" name="uPLT" matInput placeholder="PLT" formControlName="uPLT">
                            </mat-form-field>
                            
                            <mat-form-field class="max-width">
                                <mat-label>RDWSD</mat-label>
                                <input type="number" step="0.01" min="0" name="uRDWSD" matInput placeholder="RDWSD" formControlName="uRDWSD">
                            </mat-form-field>
                            
                            <mat-form-field class="max-width">
                                <mat-label>RDWCV</mat-label>
                                <input type="number" step="0.01" min="0" name="uRDWCV" matInput placeholder="RDWCV" formControlName="uRDWCV">
                            </mat-form-field>
                        </div>
                        <div class="resultBasedOnContainerContainer">
                            <mat-form-field class="max-width">
                                <mat-label>PDW</mat-label>
                                <input type="number" step="0.01" min="0" name="uPDW" matInput placeholder="PDW" formControlName="uPDW">
                            </mat-form-field>
                            
                            <mat-form-field class="max-width">
                                <mat-label>MPV</mat-label>
                                <input type="number" step="0.01" min="0" name="uMPV" matInput placeholder="MPV" formControlName="uMPV">
                            </mat-form-field>
                            
                            <mat-form-field class="max-width">
                                <mat-label>PCT</mat-label>
                                <input type="number" step="0.01" min="0" name="uPCT" matInput placeholder="PCT" formControlName="uPCT">
                            </mat-form-field>
                            
                            <mat-form-field class="max-width">
                                <mat-label>NEUT</mat-label>
                                <input type="number" step="0.01" min="0" name="uNEUT" matInput placeholder="NEUT" formControlName="uNEUT">
                            </mat-form-field>
                            
                            <mat-form-field class="max-width">
                                <mat-label>LYMPH</mat-label>
                                <input type="number" step="0.01" min="0" name="uLYMPH" matInput placeholder="LYMPH" formControlName="uLYMPH">
                            </mat-form-field>
                            
                            <mat-form-field class="max-width">
                                <mat-label>MONO</mat-label>
                                <input type="number" step="0.01" min="0" name="uMONO" matInput placeholder="MONO" formControlName="uMONO">
                            </mat-form-field>
                            
                            <mat-form-field class="max-width">
                                <mat-label>EO</mat-label>
                                <input type="number" step="0.01" min="0" name="uEO" matInput placeholder="EO" formControlName="uEO">
                            </mat-form-field>
                            
                            <mat-form-field class="max-width">
                                <mat-label>BASO</mat-label>
                                <input type="number" step="0.01" min="0" name="uBASO" matInput placeholder="BASO" formControlName="uBASO">
                            </mat-form-field>
                            
                            <mat-form-field class="max-width">
                                <mat-label>IG</mat-label>
                                <input type="number" step="0.01" min="0" name="uIG" matInput placeholder="IG" formControlName="uIG">
                            </mat-form-field>
        
                            <mat-form-field appearance="fill">
                                <mat-label>Choose a date</mat-label>
                                <input matInput type="date" formControlName="uDATE" name="uDATE">
                            </mat-form-field>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" data-dismiss="modal" mat-raised-button class="max-width" name="dataDeleteButton">Mégse</button>
                    <button mat-raised-button color="primary" data-toggle="modal" [attr.data-target]="'#' + obs.firestoreId" name = "dataUpdateButton" class="max-width">Módosítás</button>
                </div>
            </form>

        </div>
        </div>
    </div>
</div>